(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-29f6542c","chunk-10a2855e","chunk-0aeb4781"],{"0262":function(t,e,a){},"2d55":function(t,e,a){"use strict";a.r(e);var i,s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"job_table"}},[i("el-row",{attrs:{gutter:20}},[i("el-col",{staticClass:"handle_input",attrs:{span:9}},[i("el-input",{attrs:{placeholder:t.$t("position.searchplaceholder"),clearable:!0},model:{value:t.select_word,callback:function(e){t.select_word=e},expression:"select_word"}})],1),i("el-col",{attrs:{span:2}},[i("button",{staticClass:"search button",on:{click:t.handleSearch}},[t._v(t._s(t.$t("common.search")))])]),i("el-col",{attrs:{span:13}},[i("button",{staticClass:"addbtn",on:{click:t.handleAdd}},[t._v(t._s(t.$t("position.addPosition")))])])],1),i("el-table",{ref:"multipleTable",staticClass:"table_inp loading-area",attrs:{data:t.tableData,border:"",id:"table_style"}},[i("el-table-column",{attrs:{prop:"name",label:t.$t("position.name"),width:"150"}}),i("el-table-column",{attrs:{prop:"startTime",label:t.$t("personnel.startTime"),"min-width":"120"}}),i("el-table-column",{attrs:{prop:"endTime",label:t.$t("personnel.endTime"),"min-width":"150"}}),i("el-table-column",{attrs:{prop:"addTime",label:t.$t("personnel.addTime"),"min-width":"150"}}),i("el-table-column",{attrs:{prop:"dname",label:t.$t("common.Department"),"min-width":"120"}}),i("el-table-column",{attrs:{prop:"createby",label:t.$t("position.createby"),"min-width":"100"}}),i("el-table-column",{attrs:{prop:"createdate",label:t.$t("position.createdate"),"min-width":"150"}}),i("el-table-column",{attrs:{prop:"updateby",label:t.$t("position.updateby"),"min-width":"120"}}),i("el-table-column",{attrs:{prop:"updatedate",label:t.$t("position.updatedate"),"min-width":"150"}}),i("el-table-column",{attrs:{label:t.$t("common.action"),"min-width":"150",align:"center",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Edit",placement:"left"}},[i("img",{staticClass:"right",attrs:{src:a("162a"),alt:""},on:{click:function(a){t.handleEdit(e.$index,e.row)}}})])]}}])})],1),i("el-dialog",{attrs:{title:t.$t("position.editTitle"),visible:t.editVisible,top:"30vh",width:"40%"},on:{"update:visible":function(e){t.editVisible=e}}},[i("el-form",{staticClass:"addform",attrs:{model:t.editform,"label-width":"100px","label-position":"left"}},[i("el-form-item",{attrs:{label:t.$t("position.position")}},[i("el-input",{attrs:{autocomplete:"off",placeholder:t.$t("position.label")},model:{value:t.editform.name,callback:function(e){t.$set(t.editform,"name",e)},expression:"editform.name"}})],1),i("el-form-item",{attrs:{label:t.$t("position.department")}},[i("el-cascader",{attrs:{options:t.departmentList,"show-all-levels":!1,props:t.defaultParams,placeholder:t.$t("position.department")},model:{value:t.editdepartmentValue,callback:function(e){t.editdepartmentValue=e},expression:"editdepartmentValue"}})],1),i("el-form-item",{attrs:{label:t.$t("position.startTime")}},[i("el-time-picker",{attrs:{"picker-options":{selectableRange:"00:00:00 - 23:59:00"},placeholder:t.$t("position.startTime"),"value-format":"HH:mm:ss"},model:{value:t.editform.startTime,callback:function(e){t.$set(t.editform,"startTime",e)},expression:"editform.startTime"}})],1),i("el-form-item",{attrs:{label:t.$t("position.endTime")}},[i("el-time-picker",{attrs:{"picker-options":{selectableRange:"00:00:00 - 23:59:00"},placeholder:t.$t("editStaff.endTime"),"value-format":"HH:mm:ss"},model:{value:t.editform.endTime,callback:function(e){t.$set(t.editform,"endTime",e)},expression:"editform.endTime"}})],1),i("el-form-item",{attrs:{label:t.$t("position.Overtime")}},[i("el-time-picker",{attrs:{"picker-options":{selectableRange:"00:00:00 - 23:59:00"},placeholder:t.$t("common.Overtime"),"value-format":"HH:mm:ss"},model:{value:t.editform.addTime,callback:function(e){t.$set(t.editform,"addTime",e)},expression:"editform.addTime"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.editVisible=!1}}},[t._v(t._s(t.$t("common.cancel")))]),i("el-button",{staticClass:"button",attrs:{type:"primary"},on:{click:t.EditSave}},[t._v(t._s(t.$t("common.confirm")))])],1)],1),i("el-dialog",{attrs:{title:t.$t("position.addTitle"),visible:t.addVisible,top:"20vh",width:"40%"},on:{"update:visible":function(e){t.addVisible=e}}},[i("el-form",{staticClass:"addform",attrs:{"label-width":"100px","label-position":"left"}},[i("el-form-item",{attrs:{label:t.$t("position.position")}},[i("el-input",{attrs:{autocomplete:"off",placeholder:t.$t("position.label")},model:{value:t.AddJobName,callback:function(e){t.AddJobName=e},expression:"AddJobName"}})],1),i("el-form-item",{attrs:{label:t.$t("position.department")}},[i("el-cascader",{attrs:{options:t.departmentList,"show-all-levels":!1,props:t.defaultParams,placeholder:t.$t("common.department")},model:{value:t.adddepartmentValue,callback:function(e){t.adddepartmentValue=e},expression:"adddepartmentValue"}})],1),i("el-form-item",{attrs:{label:t.$t("position.startTime")}},[i("el-time-picker",{attrs:{"picker-options":{selectableRange:"00:00:00 - 23:59:00"},placeholder:t.$t("editStaff.startTime"),"value-format":"HH:mm:ss"},model:{value:t.startTimeValue,callback:function(e){t.startTimeValue=e},expression:"startTimeValue"}})],1),i("el-form-item",{attrs:{label:t.$t("position.endTime")}},[i("el-time-picker",{attrs:{"picker-options":{selectableRange:"00:00:00 - 23:59:00"},placeholder:t.$t("editStaff.endTime"),"value-format":"HH:mm:ss"},model:{value:t.endTimeValue,callback:function(e){t.endTimeValue=e},expression:"endTimeValue"}})],1),i("el-form-item",{attrs:{label:t.$t("position.Overtime")}},[i("el-time-picker",{attrs:{"picker-options":{selectableRange:"00:00:00 - 23:59:00"},placeholder:t.$t("common.Overtime"),"value-format":"HH:mm:ss"},model:{value:t.addTimeValue,callback:function(e){t.addTimeValue=e},expression:"addTimeValue"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.addVisible=!1}}},[t._v(t._s(t.$t("common.cancel")))]),i("el-button",{staticClass:"button",attrs:{type:"primary"},on:{click:t.addSave}},[t._v(t._s(t.$t("common.confirm")))])],1)],1)],1)},o=[],n=a("bd86"),l=(a("7f7f"),{data:function(){return{tableData:[],editVisible:!1,editform:{name:"",startTime:"",endTime:"",addTime:""},addform:{name:"",startTime:"",endTime:"",addTime:""},defaultParams:{label:"name",value:"id",children:"children",expandTrigger:"hover"},AddJobName:"",startTimeValue:window.localStorage.getItem("startTime")||JSON.parse(window.localStorage.getItem("user")).pgshHotelEntityList[0].startTime,endTimeValue:window.localStorage.getItem("endTime")||JSON.parse(window.localStorage.getItem("user")).pgshHotelEntityList[0].endTime,addTimeValue:window.localStorage.getItem("addTime")||JSON.parse(window.localStorage.getItem("user")).pgshHotelEntityList[0].addTime,editdepartmentValue:[],addVisible:!1,idx:"",select_word:"",departmentList:[],adddepartmentValue:[],eid:JSON.parse(window.localStorage.getItem("user")).pgshHotelEntityList[0].id}},created:function(){this.getJobData(),this.getDepartment()},methods:(i={changeDetSelect:function(t,e){console.log(t,e);var a=[],i=[],s=0;function o(e,n){for(var l=0;l<e.length;l++){if(s=n,a[n]=e[l].id,e[l].id==t){i=a.slice(0,n+1);break}e[l].children&&(s++,o(e[l].children,s))}return i}return o(e,s)},handleEdit:function(t,e){this.idx=t,this.editform.name=this.tableData[t].name,this.editVisible=!0}},Object(n["a"])(i,"handleEdit",function(t,e){this.idx=t,this.editform.name=this.tableData[t].name,this.editform.startTime=this.tableData[t].startTime,this.editform.endTime=this.tableData[t].endTime,this.editform.addTime=this.tableData[t].addTime,this.editdepartmentValue=this.changeDetSelect(this.tableData[t].did,this.departmentList),this.editVisible=!0}),Object(n["a"])(i,"getJobData",function(){var t=this;this.postRequest("/system/basic/getPositionListByEid",{entityId:window.localStorage.getItem("eid")||this.eid,name:this.select_word}).then(function(e){e&&200==e.status&&(console.log(e.data.obj),t.tableData=e.data.obj)})}),Object(n["a"])(i,"getDepartment",function(){var t=this;this.postRequest("/system/basic/depTrees",{entityId:window.localStorage.getItem("eid")||this.eid}).then(function(e){e&&200==e.status&&(console.log(e.data),t.departmentList=t.getTreeData(e.data.obj))})}),Object(n["a"])(i,"getTreeData",function(t){for(var e=0;e<t.length;e++)t[e].children.length<1?t[e].children=void 0:this.getTreeData(t[e].children);return t}),Object(n["a"])(i,"handleSearch",function(){this.getJobData()}),Object(n["a"])(i,"EditSave",function(){var t=this,e=this.tableData[this.idx].id,a=this.editdepartmentValue.length-1;this.postRequest("/system/basic/updatePosition",{entityId:window.localStorage.getItem("eid")||this.eid,id:e,name:this.editform.name,did:this.editdepartmentValue[a],startTime:this.editform.startTime,endTime:this.editform.endTime,addTime:this.editform.addTime}).then(function(e){e&&200==e.status&&(t.getJobData(),t.editVisible=!1)})}),Object(n["a"])(i,"handleAdd",function(){this.addVisible=!0}),Object(n["a"])(i,"addSave",function(){var t=this,e=this.adddepartmentValue.length-1;this.postRequest("/system/basic/addPosition",{entityId:window.localStorage.getItem("eid")||this.eid,name:this.AddJobName,did:this.adddepartmentValue[e],startTime:this.startTimeValue,endTime:this.endTimeValue,addTime:this.addTimeValue}).then(function(e){e&&200==e.status&&(t.getJobData(),t.addVisible=!1)})}),i)}),r=l,d=(a("a056"),a("2877")),c=Object(d["a"])(r,s,o,!1,null,null,null);e["default"]=c.exports},3275:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.showTags?a("div",{staticClass:"tags"},[a("ul",t._l(t.tagsList,function(e,i){return a("li",{key:i,staticClass:"tags-li",class:{active:t.isActive(e.path)}},[a("router-link",{staticClass:"tags-li-title",attrs:{to:e.path}},[t._v("\n                "+t._s(e.title)+"\n            ")]),a("span",{staticClass:"tags-li-icon",on:{click:function(e){t.closeTags(i)}}},[a("i",{staticClass:"el-icon-close"})])],1)}),0),a("div",{staticClass:"tags-close-box"},[a("el-dropdown",{on:{command:t.handleTags}},[a("el-button",{attrs:{size:"mini",type:"primary"}},[t._v("\n                标签选项"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown",size:"small"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"other"}},[t._v("关闭其他")]),a("el-dropdown-item",{attrs:{command:"all"}},[t._v("关闭所有")])],1)],1)],1)]):t._e()},s=[],o=(a("7f7f"),a("7ed4")),n={data:function(){return{tagsList:[]}},methods:{isActive:function(t){return t===this.$route.fullPath},closeTags:function(t){var e=this.tagsList.splice(t,1)[0],a=this.tagsList[t]?this.tagsList[t]:this.tagsList[t-1];a?e.path===this.$route.fullPath&&this.$router.push(a.path):this.$router.push("/")},closeAll:function(){this.tagsList=[],this.$router.push("/")},closeOther:function(){var t=this,e=this.tagsList.filter(function(e){return e.path===t.$route.fullPath});this.tagsList=e},setTags:function(t){var e=this.tagsList.some(function(e){return e.path===t.fullPath});e||(this.tagsList.length>=8&&this.tagsList.shift(),this.tagsList.push({title:t.meta.title,path:t.fullPath,name:t.matched[1].components.default.name})),o["a"].$emit("tags",this.tagsList)},handleTags:function(t){"other"===t?this.closeOther():this.closeAll()}},computed:{showTags:function(){return this.tagsList.length>0}},watch:{$route:function(t,e){this.setTags(t)}},created:function(){var t=this;this.setTags(this.$route),o["a"].$on("close_current_tags",function(){for(var e=0,a=t.tagsList.length;e<a;e++){var i=t.tagsList[e];i.path===t.$route.fullPath&&(e<a-1?t.$router.push(t.tagsList[e+1].path):e>0?t.$router.push(t.tagsList[e-1].path):t.$router.push("/"),t.tagsList.splice(e,1))}})}},l=n,r=(a("c5f3"),a("2877")),d=Object(r["a"])(l,i,s,!1,null,null,null);e["default"]=d.exports},3785:function(t,e,a){},"57da":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("v-head"),a("sidebar"),a("div",{staticClass:"content-box",class:{"content-collapse":t.collapse},attrs:{id:"content"}},[a("div",{staticClass:"tags"},[a("el-breadcrumb",{staticStyle:{"margin-top":"8px","margin-left":"10px"},attrs:{separator:"/"}},[a("el-breadcrumb-item",{directives:[{name:"show",rawName:"v-show",value:"Home"==this.$router.currentRoute.matched[0].name&&("en"==this.language||""==this.language)&&("Add Staff"==this.$router.currentRoute.name||"Edit Staff"==this.$router.currentRoute.name),expression:"this.$router.currentRoute.matched[0].name == 'Home' && (this.language == 'en' || this.language == '') && (this.$router.currentRoute.name == 'Add Staff' || this.$router.currentRoute.name == 'Edit Staff')"}]},[t._v("Staff Management")]),a("el-breadcrumb-item",{directives:[{name:"show",rawName:"v-show",value:"Home"==this.$router.currentRoute.matched[0].name&&"zhCHS"==this.language&&("Add Staff"==this.$router.currentRoute.name||"Edit Staff"==this.$router.currentRoute.name),expression:"this.$router.currentRoute.matched[0].name == 'Home' && (this.language == 'zhCHS') && (this.$router.currentRoute.name == 'Add Staff' || this.$router.currentRoute.name == 'Edit Staff')"}]},[t._v("人员管理")]),a("el-breadcrumb-item",{directives:[{name:"show",rawName:"v-show",value:"Home"!=this.$router.currentRoute.matched[0].name||"Dashboard"==this.$router.currentRoute.name,expression:"this.$router.currentRoute.matched[0].name != 'Home' || this.$router.currentRoute.name == 'Dashboard'"}]},[t._v(t._s(this.$router.currentRoute.matched[0].name))]),a("el-breadcrumb-item",{directives:[{name:"show",rawName:"v-show",value:"Home"==this.$router.currentRoute.matched[0].name&&("availabillty"==this.$router.currentRoute.name||"guest"==this.$router.currentRoute.name||"checkinmessage"==this.$router.currentRoute.name||"select room"==this.$router.currentRoute.name||"reply"==this.$router.currentRoute.name),expression:"this.$router.currentRoute.matched[0].name == 'Home' && (this.$router.currentRoute.name == 'availabillty' || this.$router.currentRoute.name == 'guest' || this.$router.currentRoute.name == 'checkinmessage' || this.$router.currentRoute.name == 'select room' || this.$router.currentRoute.name == 'reply')"}]},[t._v("Create New Reservation")]),"Reservations"==this.$router.currentRoute.name?a("el-breadcrumb-item",{domProps:{textContent:t._s(t.name)}}):t._e(),"Reservations"!=this.$router.currentRoute.name&&"availabillty"!=this.$router.currentRoute.name&&"guest"!=this.$router.currentRoute.name&&"checkinmessage"!=this.$router.currentRoute.name&&"select room"!=this.$router.currentRoute.name&&"reply"!=this.$router.currentRoute.name&&"Reservations"!=this.$router.currentRoute.name?a("el-breadcrumb-item",{domProps:{textContent:t._s(this.$router.currentRoute.name)}}):t._e()],1)],1),a("div",{staticClass:"content"},[a("transition",{attrs:{name:"fade","enter-to-class":"fadeOut animated","leave-to-class":"fadeOut animated",duration:{enter:600,leave:600}}},[a("router-view")],1)],1)])],1)},s=[],o=(a("7f7f"),a("cff1")),n=a("a315"),l=a("3275"),r=a("7ed4"),d={data:function(){return{tagsList:[],collapse:!1,name:"List",lang:"en",language:window.localStorage.getItem("lang")}},computed:{routeName:function(){return this.$router.currentRoute.name}},components:{"v-head":o["default"],sidebar:n["default"],tags:l["default"]},created:function(){var t=this;r["a"].$on("collapse",function(e){t.collapse=e}),r["a"].$on("tags",function(e){for(var a=[],i=0,s=e.length;i<s;i++)e[i].name&&a.push(e[i].name);t.tagsList=a})},watch:{$route:function(t,e){console.log(t.path,this.$router.currentRoute.name),r["a"].$emit("selectHotel",this.$router.currentRoute.name)}}},c=d,m=(a("dbc2"),a("2877")),u=Object(m["a"])(c,i,s,!1,null,null,null);e["default"]=u.exports},"5ebe":function(t,e,a){},"705e":function(t,e,a){"use strict";var i=a("877e"),s=a.n(i);s.a},7159:function(t,e,a){t.exports=a.p+"static/img/img.146655c9.jpg"},"786a":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"timesetting"}},[a("div",{staticClass:"management"},[a("div",{staticClass:"mainTime"},[a("p",[t._v(t._s(t.$t("timesetting.set")))]),a("div",{staticClass:"selectDate"},[a("b",[t._v(t._s(t.$t("common.from"))+":")]),a("el-time-picker",{attrs:{"picker-options":{selectableRange:"00:00:00 - 23:59:00"},placeholder:t.$t("timesetting.set"),"value-format":"HH:mm:ss"},model:{value:t.startTime,callback:function(e){t.startTime=e},expression:"startTime"}})],1),a("div",{staticClass:"selectDate"},[a("b",[t._v(t._s(t.$t("common.to"))+":")]),a("el-time-picker",{attrs:{"picker-options":{selectableRange:"00:00:00 - 23:59:00"},placeholder:t.$t("timesetting.set"),"value-format":"HH:mm:ss"},model:{value:t.endTime,callback:function(e){t.endTime=e},expression:"endTime"}})],1)]),a("div",{staticClass:"mainTime"},[a("p",[t._v("Set Overtime")]),a("div",{staticClass:"selectDate"},[a("b",[t._v("From:")]),a("el-time-picker",{attrs:{"picker-options":{selectableRange:"00:00:00 - 23:59:00"},placeholder:t.$t("timesetting.set"),"value-format":"HH:mm:ss"},model:{value:t.addTime,callback:function(e){t.addTime=e},expression:"addTime"}})],1)]),a("div",{staticClass:"confirm"},[a("button",{staticClass:"button confirmbtn",on:{click:t.saveTime}},[t._v(t._s(t.$t("common.confirm")))])])])])},s=[],o={data:function(){return{startTime:"",endTime:"",addTime:"",eid:window.localStorage.getItem("eid")||JSON.parse(window.localStorage.getItem("user")).pgshHotelEntityList[0].id}},created:function(){this.getTime()},methods:{getTime:function(){var t=this;this.postRequest("/system/hotel/getThisOfficeWorkTime",{id:window.localStorage.getItem("eid")||this.eid}).then(function(e){e&&200==e.status&&(t.startTime=e.data.obj.startTime,t.endTime=e.data.obj.endTime,t.addTime=e.data.obj.addTime)})},saveTime:function(){var t=this;this.postRequest("/system/hotel/updateHotel",{id:window.localStorage.getItem("eid")||this.eid,startTime:this.startTime,endTime:this.endTime,addTime:this.addTime}).then(function(e){e&&200==e.status&&(window.localStorage.setItem("startTime",t.startTime),window.localStorage.setItem("endTime",t.endTime),window.localStorage.setItem("addTime",t.addTime),t.$message.success("Saved Successfully"))})}}},n=o,l=(a("705e"),a("2877")),r=Object(l["a"])(n,i,s,!1,null,null,null);e["default"]=r.exports},"877e":function(t,e,a){},a056:function(t,e,a){"use strict";var i=a("cbd2"),s=a.n(i);s.a},a315:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sidebar"},[a("el-menu",{staticClass:"sidebar-el-menu",attrs:{collapse:t.collapse,router:""}},[t._l(this.routes,function(e,i){return[e.children?[a("el-submenu",{key:i,attrs:{index:i+""}},[a("template",{slot:"title"},[a("i",{class:e.iconcls}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.name))])]),t._l(e.children,function(e){return[a("el-menu-item",{key:e.path,attrs:{index:e.path}},[t._v("\n                            "+t._s(e.name)+"\n                        ")])]})],2)]:[a("el-menu-item",{key:e.index,attrs:{index:e.path}},[a("i",{class:t.iconcls[i]}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.name))])])]]})],2)],1)},s=[],o=(a("cadf"),a("551c"),a("097d"),a("7ed4")),n={data:function(){return{collapse:!1,menu:"",iconcls:["el-icon-lx-home","el-icon-lx-news","el-icon-lx-text","el-icon-time","el-icon-lx-people","el-icon-setting"]}},computed:{routes:function(){return this.$store.state.routes}},methods:{},created:function(){var t=this;o["a"].$on("collapse",function(e){t.collapse=e})}},l=n,r=(a("be3e"),a("2877")),d=Object(r["a"])(l,i,s,!1,null,null,null);e["default"]=d.exports},a66a:function(t,e,a){},be3e:function(t,e,a){"use strict";var i=a("a66a"),s=a.n(i);s.a},bff8:function(t,e,a){var i={"./Home.vue":"57da","./common/Country.vue":"913a","./common/Header.vue":"cff1","./common/Sidebar.vue":"a315","./common/Tags.vue":"3275","./common/Title.vue":"8db5","./common/quhao.vue":"bdb0","./my/ChangeHotel.vue":"ae34","./my/UserManagement.vue":"7dc4","./page/403.vue":"9ebe","./page/404.vue":"5b5e","./page/Dashboard.vue":"e2ad","./page/Login.vue":"0290","./page/Register.vue":"fe8e","./page/Tabs.vue":"3a5b","./personnel/AddPersonnel.vue":"7259","./personnel/EditPersonnel.vue":"d8b9","./personnel/StaffManagement.vue":"32a1","./record/AttendanceRecord.vue":"eb31","./record/RawData.vue":"0bc2","./setting/DepartmentManagement.vue":"fe8e7","./setting/PositionManagement.vue":"2d55","./setting/TimeManagement.vue":"786a"};function s(t){var e=o(t);return a(e)}function o(t){var e=i[t];if(!(e+1)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return e}s.keys=function(){return Object.keys(i)},s.resolve=o,t.exports=s,s.id="bff8"},c5f3:function(t,e,a){"use strict";var i=a("5ebe"),s=a.n(i);s.a},cbd2:function(t,e,a){},cff1:function(t,e,a){"use strict";a.r(e);var i,s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header"},[a("div",{staticClass:"collapse-btn",on:{click:t.collapseChage}},[a("i",{staticClass:"el-icon-menu"})]),a("div",{staticClass:"logo"},[t._v(t._s(t.$t("header.title")))]),a("div",{staticClass:"header-right"},[a("div",{staticClass:"header-user-con"},[a("div",{directives:[{name:"show",rawName:"v-show",value:1==t.roles&&1==t.routename,expression:"roles == 1 && routename == 1"}],staticStyle:{"font-size":"14px"}},[a("span",{staticClass:"el-dropdown-link",on:{click:t.openAction}},[t._v("\n                    Select Property"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})])]),a("div",{staticStyle:{"margin-right":"20px","font-size":"14px","margin-left":"20px"}},[t._v("\n                "+t._s(t.hotelName)+" \n                ")]),a("div",{staticClass:"btn-fullscreen",on:{click:t.handleFullScreen}},[a("el-tooltip",{attrs:{effect:"dark",content:(t.fullscreen,"Full screen"),placement:"bottom"}},[a("i",{staticClass:"el-icon-rank"})])],1),a("div",{staticStyle:{"font-size":"14px","margin-left":"10px"}},[a("el-dropdown",{attrs:{trigger:"click"},on:{command:t.selectLanguage}},[a("span",{staticClass:"el-dropdown-link"},[t._v("\n                        "+t._s(t.$t("header.selectproperty"))+"\n                    ")]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"en"}},[t._v("English")]),a("el-dropdown-item",{attrs:{command:"zhCHS"}},[t._v("中文")])],1)],1)],1),t._m(0),a("el-dropdown",{staticClass:"user-name",attrs:{trigger:"click"},on:{command:t.handleCommand}},[a("span",{staticClass:"el-dropdown-link"},[t._v("\n                    "+t._s(t.username)+" "),a("i",{staticClass:"el-icon-caret-bottom"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"loginout"}},[t._v(t._s(t.$t("header.logout")))])],1)],1)],1)]),a("el-dialog",{attrs:{title:"Switch Property",visible:t.hotelVisible,width:"78%",top:"5vh"},on:{"update:visible":function(e){t.hotelVisible=e}}},[a("el-dialog",{attrs:{width:"30%",title:"Whether to switch the following property？",visible:t.innerVisible,"append-to-body":""},on:{"update:visible":function(e){t.innerVisible=e}}},[a("div",[t._v(t._s(t.hotel))]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.innerVisible=!1}}},[t._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:t.confirmAction}},[t._v("Confirm")])],1)]),a("el-col",{staticStyle:{"padding-left":"0px","margin-bottom":"16px"},attrs:{span:24}},[a("el-input",{attrs:{placeholder:"Search By Name"},on:{input:t.changeInp},model:{value:t.inputVal,callback:function(e){t.inputVal=e},expression:"inputVal"}},[a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})])],1),a("div",{staticClass:"nowRoom",attrs:{id:"nowRoom"}},t._l(t.hotelList,function(e,i){return a("span",{key:i,class:{hoverBg:t.hoverIndex==i},style:{background:t.getColor(i)},on:{mouseover:function(e){t.hoverIndex=i},mouseout:function(e){t.hoverIndex=-1},click:function(e){t.selectAction(i)}}},[a("p",{style:{color:t.getwordColor(i)}},[t._v(t._s(e.name))])])}),0)],1)],1)},o=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"user-avator"},[i("img",{attrs:{src:a("7159")}})])}],n=(a("28a5"),a("7f7f"),a("7ed4")),l={data:function(){return{hotel:"",hotelId:"",hoverIndex:-1,collapse:!1,fullscreen:!1,hotelVisible:!1,innerVisible:!1,name:"linxin",message:2,inputVal:"",hotelList:[],hotelData:this.$store.state.tableData,rolesList:this.$store.state.user.roles,roles:"",routename:1,hotelName:window.localStorage.getItem("address")||JSON.parse(window.localStorage.getItem("user")).pgshHotelEntityList[0].name}},computed:{username:function(){var t=JSON.parse(localStorage.getItem("user")).name;return t||this.name}},created:function(){var t=this;this.getHotelData(),this.getRole(),n["a"].$on("hotelData",function(e){t.hotelList=e}),n["a"].$on("routename",function(e){t.routename="Room Management"==e?0:1}),n["a"].$on("selectHotel",function(e){t.routename="Room Management"==e?0:1}),n["a"].$on("hotelname",function(e){t.hotelName=e})},methods:{changeInp:function(t){var e=this;t?this.getSearch(t):e.getHotelData()},selectLanguage:function(t){this.$i18n.locale=t,window.localStorage.setItem("lang",t),this.$emit("changeAppLocale",t),window.location.reload()},getSearch:function(t){var e=this;this.postRequest("/system/hotel//searchHotelByItems",{name:t}).then(function(t){t&&200==t.status?(console.log(t.data),e.hotelList=t.data.data):console.log("操作失败")})},getRole:function(){var t=this;this.rolesList.map(function(e){"ROLE_admin"==e.name&&(t.roles=1)})},getColor:function(t){if(this.hotelName==this.hotelList[t].name)return"#157df5"},getwordColor:function(t){if(this.hotelName==this.hotelList[t].name)return"#fff"},openAction:function(){this.hotelVisible=!0},getTime:function(){this.postRequest("/system/hotel/getThisOfficeWorkTime",{id:window.localStorage.getItem("eid")||this.eid}).then(function(t){t&&200==t.status&&(window.localStorage.setItem("startTime",t.data.obj.startTime),window.localStorage.setItem("endTime",t.data.obj.endTime),window.localStorage.setItem("addTime",t.data.obj.addTime))})},selectAction:function(t){this.innerVisible=!0,this.hotel=this.hotelList[t].name,this.hotelId=this.hotelList[t].id},confirmAction:function(){window.localStorage.setItem("address",this.hotel),window.localStorage.setItem("eid",this.hotelId),this.getTime(),window.location.reload()},getHotelData:function(){var t=this;this.postRequest("/system/hotel/selectHotelByUid").then(function(e){e&&200==e.status&&(console.log(e.data),t.hotelList=e.data.data)})},changeHotel:function(t){var e=t.split("+")[0],a=t.split("+")[1];window.localStorage.setItem("eid",e),window.localStorage.setItem("address",a),window.location.reload()},handleCommand:function(t){var e=this;"loginout"==t&&this.postRequest("/logout").then(function(t){t&&200==t.status&&(e.$store.commit("logout"),sessionStorage.removeItem("user"),localStorage.removeItem("user"),localStorage.removeItem("eid"),localStorage.removeItem("flag"),localStorage.removeItem("address"),e.$router.push("/login"),i&&clearTimeout(i),i=setTimeout(function(){i=null},1e3))})},collapseChage:function(){this.collapse=!this.collapse,n["a"].$emit("collapse",this.collapse)},handleFullScreen:function(){var t=document.documentElement;this.fullscreen?document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullScreen?t.webkitRequestFullScreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen(),this.fullscreen=!this.fullscreen}},mounted:function(){document.body.clientWidth<1500&&this.collapseChage()}},r=l,d=(a("da10"),a("2877")),c=Object(d["a"])(r,s,o,!1,null,null,null);e["default"]=c.exports},da10:function(t,e,a){"use strict";var i=a("3785"),s=a.n(i);s.a},dbc2:function(t,e,a){"use strict";var i=a("ea59"),s=a.n(i);s.a},ea59:function(t,e,a){},f6ce:function(t,e,a){"use strict";var i=a("0262"),s=a.n(i);s.a},fe8e7:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"divisional"}},[a("div",{staticClass:"custom-tree-container"},[a("el-input",{staticClass:"filter",attrs:{placeholder:t.$t("department.departmentPlaceholder")},model:{value:t.filterText,callback:function(e){t.filterText=e},expression:"filterText"}}),a("div",{staticClass:"tree"},[a("el-tree",{ref:"tree",attrs:{data:t.divisionalList,"node-key":"id","default-expand-all":"","expand-on-click-node":!1,"filter-node-method":t.filterNode,props:t.defaultProps},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.node,s=e.data;return a("span",{staticClass:"custom-tree-node"},[a("span",[t._v(t._s(i.data.name))]),a("span",[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return t.handleAppend(i,s)}}},[t._v("\n                    "+t._s(t.$t("department.Append"))+"\n                ")]),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return t.handleEdit(i,s)}}},[t._v("\n                    "+t._s(t.$t("department.Edit"))+"\n                ")])],1)])}}])})],1),a("el-dialog",{attrs:{title:t.$t("department.addTitle"),visible:t.addVisible,top:"30vh",width:"40%"},on:{"update:visible":function(e){t.addVisible=e}}},[a("el-form",[a("el-form-item",{attrs:{label:t.$t("department.label"),"label-width":"150"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.AddDivisionalName,callback:function(e){t.AddDivisionalName=e},expression:"AddDivisionalName"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.addVisible=!1}}},[t._v(t._s(t.$t("department.cancel")))]),a("el-button",{attrs:{type:"primary"},on:{click:t.Append}},[t._v(t._s(t.$t("department.confirm")))])],1)],1),a("el-dialog",{attrs:{title:t.$t("department.editTitle"),visible:t.editVisible,top:"30vh",width:"40%"},on:{"update:visible":function(e){t.editVisible=e}}},[a("el-form",{attrs:{model:t.editform}},[a("el-form-item",{attrs:{label:t.$t("department.label"),"label-width":"150"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.editform.name,callback:function(e){t.$set(t.editform,"name",e)},expression:"editform.name"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.editVisible=!1}}},[t._v(t._s(t.$t("department.cancel")))]),a("el-button",{attrs:{type:"primary"},on:{click:t.Edit}},[t._v(t._s(t.$t("department.confirm")))])],1)],1)],1)])},s=[],o=(a("7f7f"),{data:function(){return{filterText:"",defaultProps:{children:"children",name:"name"},divisionalList:[],addVisible:!1,editVisible:!1,AddDivisionalName:"",EditDivisionalName:"",node:"",data:"",editform:{name:""},eid:JSON.parse(window.localStorage.getItem("user")).pgshHotelEntityList[0].id}},created:function(){this.getDivisionalData()},methods:{getDivisionalData:function(){var t=this;this.postRequest("/system/basic/depTrees",{entityId:window.localStorage.getItem("eid")||this.eid,officeId:1}).then(function(e){e&&200==e.status&&(t.divisionalList=e.data.obj,console.log(t.divisionalList))})},handleAppend:function(t,e){this.node=t,this.data=e,this.addVisible=!0},Append:function(){var t=this,e=this.node.data.id;this.postRequest("/system/basic/addDepartment",{entityId:window.localStorage.getItem("eid")||this.eid,id:e,name:this.AddDivisionalName}).then(function(e){e&&200==e.status&&(t.getDivisionalData(),t.addVisible=!1)})},handleEdit:function(t,e){this.node=t,this.data=e,this.editform.name=e.name,this.editVisible=!0},Edit:function(t,e){var a=this,i=this.node.data.id;this.postRequest("/system/basic/updateDepartment",{entityId:window.localStorage.getItem("eid")||this.eid,id:i,name:this.editform.name}).then(function(t){t&&200==t.status&&(a.getDivisionalData(),a.editVisible=!1)})},filterNode:function(t,e){return!t||-1!==e.name.indexOf(t)}},watch:{filterText:function(t){this.$refs.tree.filter(t)}}}),n=o,l=(a("f6ce"),a("2877")),r=Object(l["a"])(n,i,s,!1,null,null,null);e["default"]=r.exports}}]);