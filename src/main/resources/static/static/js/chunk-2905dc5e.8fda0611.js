(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2905dc5e"],{"3cee":function(e,t,a){},7984:function(e,t,a){"use strict";var s=a("3cee"),l=a.n(s);l.a},"7dc4":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"permission"}},[s("div",{staticClass:"table"},[s("titlebox",{attrs:{title:e.$t("user.user")}}),s("div",{staticClass:"container"},[s("div",{staticClass:"handle-box"},[s("el-button",{staticClass:"handle-del mr10 btncolor",attrs:{type:"primary",icon:"delete"},on:{click:e.delAll}},[e._v(e._s(e.$t("user.remove")))]),s("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"Search Name"},model:{value:e.select_word,callback:function(t){e.select_word=t},expression:"select_word"}}),s("el-button",{staticClass:"btncolor",attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v(e._s(e.$t("user.create")))])],1),s("el-table",{ref:"multipleTable",staticClass:"table_inp loading-area",attrs:{data:e.tableData,border:"",id:"table_style"},on:{"selection-change":e.handleSelectionChange}},[s("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),s("el-table-column",{attrs:{prop:"username",label:e.$t("user.username"),width:"120"}}),s("el-table-column",{attrs:{prop:"enabled",label:e.$t("user.status"),width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-switch",{attrs:{"active-text":"On","inactive-text":"Off"},on:{change:function(a){e.changeEnabled(t.row.enabled,t.row.id)}},model:{value:t.row.enabled,callback:function(a){e.$set(t.row,"enabled",a)},expression:"scope.row.enabled"}})]}}])}),s("el-table-column",{attrs:{prop:"telephone",label:e.$t("user.telephone"),width:"150"}}),s("el-table-column",{attrs:{prop:"phone",label:e.$t("user.phone"),width:"150"}}),s("el-table-column",{attrs:{prop:"ename",label:e.$t("user.address"),width:"270"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.pgshHotelEntityList,function(t){return s("el-tag",[e._v(e._s(t.name))])})}}])}),s("el-table-column",{attrs:{prop:"roles",label:e.$t("user.roles"),width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.roles,function(t){return s("el-tag",[e._v(e._s(t.nameZh))])})}}])}),s("el-table-column",{attrs:{label:e.$t("user.note"),formatter:e.formatter,"min-width":"230"}}),s("el-table-column",{attrs:{label:e.$t("common.action"),width:"140",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.$t("common.Edit"),placement:"left"}},[s("img",{attrs:{src:a("162a"),alt:""},on:{click:function(a){e.handleEdit(t.$index,t.row)}}})])]}}])})],1),s("div",{staticClass:"pagination"},[s("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:10},on:{"current-change":e.handleCurrentChange}})],1)],1),s("el-dialog",{attrs:{title:"Add A New User",visible:e.addVisible,width:"70%"},on:{"update:visible":function(t){e.addVisible=t}}},[s("el-form",{ref:"addform",attrs:{model:e.addform,"label-width":"150px",rules:e.rules}},[s("el-form-item",{attrs:{label:e.$t("user.Name")}},[s("el-input",{model:{value:e.addform.name,callback:function(t){e.$set(e.addform,"name",t)},expression:"addform.name"}})],1),s("el-form-item",{attrs:{label:e.$t("user.addUsername"),prop:"username"}},[s("el-input",{model:{value:e.addform.username,callback:function(t){e.$set(e.addform,"username",t)},expression:"addform.username"}})],1),s("el-form-item",{attrs:{label:e.$t("user.Password"),prop:"pass"}},[s("el-input",{attrs:{type:"password",autocomplete:"off","show-password":""},model:{value:e.addform.password,callback:function(t){e.$set(e.addform,"password",t)},expression:"addform.password"}})],1),s("el-form-item",{attrs:{label:e.$t("user.addPhone"),prop:"phone"}},[s("el-input",{model:{value:e.addform.telephone,callback:function(t){e.$set(e.addform,"telephone",t)},expression:"addform.telephone"}})],1),s("el-form-item",{attrs:{label:e.$t("user.addmphone"),prop:"phone"}},[s("el-input",{model:{value:e.addform.phone,callback:function(t){e.$set(e.addform,"phone",t)},expression:"addform.phone"}})],1),s("el-form-item",{attrs:{label:e.$t("user.usertype"),prop:"type"}},[s("el-radio-group",{model:{value:e.addform.type,callback:function(t){e.$set(e.addform,"type",t)},expression:"addform.type"}},[s("el-radio",{attrs:{label:"1"}},[e._v(e._s(e.$t("user.SystemUser")))]),s("el-radio",{attrs:{label:"0"}},[e._v(e._s(e.$t("user.PlatformUser")))])],1)],1),"0"==e.addform.type?s("el-form-item",{staticClass:"roles",attrs:{label:e.$t("user.hotelAddress")}},[s("el-select",{attrs:{multiple:"",placeholder:e.$t("common.select")},on:{change:e.addHotel},model:{value:e.addHotelValue,callback:function(t){e.addHotelValue=t},expression:"addHotelValue"}},e._l(e.hotelList,function(e){return s("el-option",{key:e.value,staticClass:"inp",attrs:{label:e.name,value:e.id}})}),1)],1):e._e(),s("el-form-item",{staticClass:"roles",attrs:{label:e.$t("user.userrole")}},[s("el-select",{attrs:{multiple:"",placeholder:e.$t("common.select")},on:{change:e.addRoles},model:{value:e.addrolesValue,callback:function(t){e.addrolesValue=t},expression:"addrolesValue"}},e._l(e.tagList,function(e){return s("el-option",{key:e.value,staticClass:"inp",attrs:{label:e.nameZh,value:e.id}})}),1)],1),s("el-form-item",{attrs:{label:e.$t("user.note")}},[s("el-input",{model:{value:e.form.comment,callback:function(t){e.$set(e.form,"comment",t)},expression:"form.comment"}})],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.saveAdd("addform")}}},[e._v(e._s(e.$t("user.save")))]),s("el-button",{on:{click:function(t){e.addVisible=!1}}},[e._v(e._s(e.$t("common.cancel")))])],1)],1),s("el-dialog",{attrs:{title:e.$t("property.editpro"),visible:e.editVisible,width:"70%"},on:{"update:visible":function(t){e.editVisible=t}}},[s("el-form",{ref:"form",attrs:{model:e.form,"label-width":"150px",rules:e.rules}},[s("el-form-item",{attrs:{label:e.$t("user.Name"),prop:"name"}},[s("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),s("el-form-item",{attrs:{label:e.$t("user.addPhone"),prop:"telephone"}},[s("el-input",{model:{value:e.form.telephone,callback:function(t){e.$set(e.form,"telephone",t)},expression:"form.telephone"}})],1),s("el-form-item",{attrs:{label:e.$t("user.addmphone"),prop:"phone"}},[s("el-input",{model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),s("el-form-item",{attrs:{label:e.$t("user.usertype"),prop:"type"}},[s("el-radio-group",{model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[s("el-radio",{attrs:{label:"1"}},[e._v(e._s(e.$t("user.SystemUser")))]),s("el-radio",{attrs:{label:"0"}},[e._v(e._s(e.$t("user.PlatformUser")))])],1)],1),"0"==e.form.type?s("el-form-item",{staticClass:"roles",attrs:{label:e.$t("user.hotelAddress"),prop:"address"}},[s("el-select",{attrs:{multiple:"",placeholder:e.$t("common.select")},on:{change:e.hotelChange},model:{value:e.hotelValue,callback:function(t){e.hotelValue=t},expression:"hotelValue"}},e._l(e.hotelList,function(e){return s("el-option",{key:e.value,staticClass:"inp",attrs:{label:e.name,value:e.id}})}),1)],1):e._e(),s("el-form-item",{staticClass:"roles",attrs:{label:e.$t("user.userrole"),prop:"roles"}},[s("el-select",{attrs:{multiple:"",placeholder:e.$t("common.select")},on:{change:e.rolesChange},model:{value:e.rolesValue,callback:function(t){e.rolesValue=t},expression:"rolesValue"}},e._l(e.tagList,function(e){return s("el-option",{key:e.value,staticClass:"inp",attrs:{label:e.nameZh,value:e.id,id:e.id}})}),1)],1),s("el-form-item",{attrs:{label:e.$t("user.addnote"),prop:"comment"}},[s("el-input",{model:{value:e.form.comment,callback:function(t){e.$set(e.form,"comment",t)},expression:"form.comment"}})],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.editVisible=!1}}},[e._v(e._s(e.$t("common.cancel")))]),s("el-button",{attrs:{type:"primary"},on:{click:e.saveEdit}},[e._v(e._s(e.$t("user.save")))])],1)],1)],1)])},l=[],o=(a("c5f6"),a("7f7f"),{name:"basetable",data:function(){return{hotelList:[],addVisible:!1,addform:{name:"",phone:"",telephone:"",address:"",roles:[],type:"",comment:"",password:"",username:""},addrolesValue:[],addHotelValue:[],url:"./vuetable.json",tableData:[],rolesValue:[],hotelValue:[],hrid:"",cur_page:1,multipleSelection:[],select_cate:"",select_word:"",del_list:[],is_search:!1,editVisible:!1,delVisible:!1,form:{name:"",phone:"",telephone:"",address:"",roles:[],comment:"",type:""},idx:-1,enabled:"",tagList:[],addHotelList:[],editHotelList:[],roleList:[],addRoleList:[],rules:{name:[{required:!0,message:"Please enter name",trigger:"blur"},{min:1,max:16,message:"The length of the name should be within 16 characters",trigger:"change"}],username:[{required:!0,message:"Please enter username",trigger:"blur"},{min:1,max:16,message:"The length of the username should be within 16 characters",trigger:"change"}],phone:[{required:!0,message:"Please enter telephone number",trigger:"blur"},{len:10,message:"The length of the telephone number should be 10digits",trigger:"change"}],address:[{required:!0,message:"Please enter your address",trigger:"change"}],roles:[{required:!0,message:"Please select your job title",trigger:"change"}],type:[{required:!0,message:"Please select your user type",trigger:"change"}]},eid:JSON.parse(window.localStorage.getItem("user")).pgshHotelEntityList[0].id}},created:function(){var e=this;this.$nextTick(function(){e.getData(),e.getRolesData()})},computed:{data:function(){var e=this;return this.tableData.filter(function(t){for(var a=!1,s=0;s<e.del_list.length;s++)if(t.username===e.del_list[s].username){a=!0;break}if(!a){if(""==e.select_word)return e.tableData;if(t.name.indexOf(e.select_word)>-1||t.address.indexOf(e.select_word)>-1||t.phone.indexOf(e.select_word)>-1||t.telephone.indexOf(e.select_word)>-1)return t}})}},methods:{getHotelData:function(){var e=this;this.postRequest("/system/hotel/selectHotelByUid").then(function(t){t&&200==t.status&&(console.log(t.data),e.hotelList=t.data.data)})},handleCurrentChange:function(e){var t=this;this.cur_page=e,this.$nextTick(function(){t.getData()})},getData:function(){var e=this;this.postRequest("/system/hr/userList",{currentPage:this.cur_page,pageSize:100,eid:window.localStorage.getItem("eid")||this.eid}).then(function(t){t&&200==t.status&&(e.tableData=t.data.data.list)})},getRolesData:function(){var e=this;this.postRequest("/system/basic/roles").then(function(t){t&&200==t.status&&(e.tagList=t.data)})},search:function(){this.is_search=!0},formatter:function(e,t){return e.address},filterTag:function(e,t){return t.tag===e},changeEnabled:function(e,t){var a=this;this.postRequest("/system/hr/updateHrStatus",{id:t,enabled:e}).then(function(e){e&&200==e.status?a.$message({showClose:!0,message:"Update Successful",type:"success"}):(console.log(e),a.$message({showClose:!0,message:"Update Unsuccessful",type:"error",duration:0}))})},addHotel:function(e){var t=[];e.map(function(e,a){t.push({id:e})}),this.addHotelList=t},hotelChange:function(e){var t=[];e.map(function(e,a){t.push({id:e})}),this.editHotelList=t},addRoles:function(e){var t=[];e.map(function(e,a){t.push({id:e})}),this.addRoleList=t},rolesChange:function(e){var t=[];e.map(function(e,a){t.push({id:e})}),this.roleList=t},handleEdit:function(e,t){var a=this;this.idx=e;var s=this.tableData[e];console.log(s),this.roleList=s.roles;var l=[];s.pgshHotelEntityList.map(function(e,t){l.push(e.id),a.hotelValue=l});var o=[];s.roles.map(function(e,t){o.push(e.id),a.rolesValue=o}),this.form={name:s.name,telephone:s.telephone,phone:s.phone,roles:s.roles,comment:s.comment,address:s.address,enabled:s.enabled,type:String(s.remark)},this.editVisible=!0,this.getHotelData()},handleAdd:function(e,t){this.addVisible=!0,this.getHotelData()},handleDelete:function(e,t){this.idx=e,this.delVisible=!0},delAll:function(){var e=this,t=this.multipleSelection.length,a=[];this.del_list=this.del_list.concat(this.multipleSelection);for(var s=0;s<t;s++)this.multipleSelection[s].name+" ",a.push(this.multipleSelection[s].id);this.postRequest("/system/hr/batchDeleteHr",{hrids:a}).then(function(t){t&&200==t.status&&(e.$message.error("Deleted Successfully"),e.multipleSelection=[],e.getData())})},handleSelectionChange:function(e){console.log(e),this.multipleSelection=e},saveAdd:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.postRequest("/system/hr/addHr",{enabled:1,name:t.addform.name,phone:t.addform.phone,telephone:t.addform.telephone,eids:t.addHotelList,roles:t.addRoleList,remark:t.addform.type,password:t.addform.password,username:t.addform.username}).then(function(e){e&&200==e.status&&(t.$message.success("Added Successfully"),t.getData(),t.addform={name:"",phone:"",telephone:"",address:"",roles:[],type:"",comment:"",password:"",username:""})}),t.addVisible=!1})},saveEdit:function(){var e=this,t=this.tableData[this.idx].id;this.postRequest("/system/hr/updateHr",{id:t,name:this.form.name,phone:this.form.phone,telephone:this.form.telephone,eids:this.editHotelList,roles:this.roleList,remark:Number(this.form.type)}).then(function(t){t&&200==t.status?(e.$message.success("Saved Successfully"),e.$nextTick(function(){e.getData()})):console.log(t)}),this.editVisible=!1},deleteRow:function(){this.postRequest("/system/basic/deleteRoleById",{hrid:this.hrid}).then(function(e){console.log(e)}),this.tableData.splice(this.idx,1),this.$message.success("Deteled Successfully"),this.delVisible=!1}}}),r=o,n=(a("99c7"),a("2877")),i=Object(n["a"])(r,s,l,!1,null,null,null);t["default"]=i.exports},"99c7":function(e,t,a){"use strict";var s=a("d9cd"),l=a.n(s);l.a},ae34:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"changeHotel"}},[s("titlebox",{attrs:{title:e.$t("property.Property")}}),s("div",{staticClass:"container"},[s("div",{staticClass:"handle-box",staticStyle:{"margin-bottom":"16px"}},[s("el-row",{attrs:{gutter:20}},[s("el-col",{staticClass:"handle_input",attrs:{span:9}},[s("el-input",{attrs:{placeholder:e.$t("property.SearchName")},model:{value:e.select_word,callback:function(t){e.select_word=t},expression:"select_word"}})],1),s("el-col",{attrs:{span:2}},[s("button",{staticClass:"search",on:{click:e.handleSearch}},[e._v(e._s(e.$t("common.search")))])]),s("el-col",{attrs:{span:13}},[s("button",{staticClass:"addbtn",on:{click:e.handleAdd}},[e._v(e._s(e.$t("property.CREATEPROPERTY")))])])],1)],1),s("el-table",{ref:"multipleTable",staticClass:"table_inp loading-area",attrs:{data:e.tableData,border:"",id:"table_style"},on:{"selection-change":e.handleSelectionChange}},[s("el-table-column",{attrs:{prop:"name",label:e.$t("property.propretyName"),width:"150"}}),s("el-table-column",{attrs:{prop:"statuss",label:e.$t("property.status"),width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-switch",{attrs:{"active-text":"On","inactive-text":"Off"},on:{change:function(a){e.changeEnabled(t.row.statuss,t.row.id)}},model:{value:t.row.statuss,callback:function(a){e.$set(t.row,"statuss",a)},expression:"scope.row.statuss"}})]}}])}),s("el-table-column",{attrs:{prop:"refNbr",label:e.$t("property.proNum"),width:"150"}}),s("el-table-column",{attrs:{prop:"createdBy",label:e.$t("property.createdBy"),width:"100"}}),s("el-table-column",{attrs:{prop:"createdDate",label:e.$t("property.createdDate"),width:"150"}}),s("el-table-column",{attrs:{prop:"updatedBy",label:e.$t("property.updatedBy"),width:"120"}}),s("el-table-column",{attrs:{prop:"address",label:e.$t("user.address"),width:"220"}}),s("el-table-column",{attrs:{label:e.$t("user.note"),prop:"remark",width:"150"}}),s("el-table-column",{attrs:{prop:"updatedDate",label:e.$t("property.updatedDate"),"min-width":"150"}}),s("el-table-column",{attrs:{label:e.$t("common.action"),width:"180",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.$t("common.Edit"),placement:"left"}},[s("img",{staticClass:"right",attrs:{src:a("162a"),alt:""},on:{click:function(a){e.handleEdit(t.$index,t.row)}}})]),s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.$t("property.Delete"),placement:"top"}},[s("img",{attrs:{src:a("fd6f"),alt:""},on:{click:function(a){e.handleDelete(t.$index,t.row)}}})])]}}])})],1),s("div",{staticClass:"pagination"},[s("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:10},on:{"current-change":e.handleCurrentChange}})],1),s("el-dialog",{attrs:{title:e.$t("property.addhotel"),visible:e.addVisible,width:"60%"},on:{"update:visible":function(t){e.addVisible=t}}},[s("el-form",{ref:"addform",attrs:{model:e.addform,"label-width":"100px",rules:e.rules}},[s("el-form-item",{attrs:{label:e.$t("property.name"),prop:"name"}},[s("el-input",{model:{value:e.addform.name,callback:function(t){e.$set(e.addform,"name",t)},expression:"addform.name"}})],1),s("el-form-item",{attrs:{label:e.$t("property.hotel"),prop:"hotel"}},[s("el-input",{model:{value:e.addform.ref_nbr,callback:function(t){e.$set(e.addform,"ref_nbr",t)},expression:"addform.ref_nbr"}})],1),s("el-form-item",{attrs:{label:e.$t("property.addaddress"),prop:"address"}},[s("el-input",{model:{value:e.addform.address,callback:function(t){e.$set(e.addform,"address",t)},expression:"addform.address"}})],1),s("el-form-item",{attrs:{label:e.$t("user.addnote"),prop:"remark"}},[s("el-input",{model:{value:e.addform.remark,callback:function(t){e.$set(e.addform,"remark",t)},expression:"addform.remark"}})],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.saveAdd("addform")}}},[e._v(e._s(e.$t("user.save")))]),s("el-button",{on:{click:function(t){e.addVisible=!1}}},[e._v(e._s(e.$t("common.cancel")))])],1)],1),s("el-dialog",{attrs:{title:e.$t("property.editpro"),visible:e.editVisible,width:"60%"},on:{"update:visible":function(t){e.editVisible=t}}},[s("el-form",{ref:"form",attrs:{model:e.editform,"label-width":"100px",rules:e.rules}},[s("el-form-item",{attrs:{label:e.$t("property.name"),prop:"name"}},[s("el-input",{model:{value:e.editform.name,callback:function(t){e.$set(e.editform,"name",t)},expression:"editform.name"}})],1),s("el-form-item",{attrs:{label:e.$t("property.hotel"),prop:"hotel"}},[s("el-input",{model:{value:e.editform.ref_nbr,callback:function(t){e.$set(e.editform,"ref_nbr",t)},expression:"editform.ref_nbr"}})],1),s("el-form-item",{attrs:{label:e.$t("property.addaddress"),prop:"address"}},[s("el-input",{model:{value:e.editform.address,callback:function(t){e.$set(e.editform,"address",t)},expression:"editform.address"}})],1),s("el-form-item",{attrs:{label:e.$t("user.addnote"),prop:"remark"}},[s("el-input",{model:{value:e.editform.remark,callback:function(t){e.$set(e.editform,"remark",t)},expression:"editform.remark"}})],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.editVisible=!1}}},[e._v(e._s(e.$t("common.cancel")))]),s("el-button",{attrs:{type:"primary"},on:{click:e.saveEdit}},[e._v(e._s(e.$t("user.save")))])],1)],1),s("el-dialog",{attrs:{width:"30%",title:e.$t("property.condelete"),visible:e.deleteVisible,"append-to-body":""},on:{"update:visible":function(t){e.deleteVisible=t}}},[s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:e.deleteAction}},[e._v(e._s(e.$t("common.confirm")))]),s("el-button",{on:{click:function(t){e.deleteVisible=!1}}},[e._v(e._s(e.$t("common.cancel")))])],1)])],1)],1)},l=[],o=(a("7f7f"),a("7ed4")),r={data:function(){return{rules:{name:[{required:!0,message:"Please enter name",trigger:"blur"},{min:1,max:16,message:"The length of the name should be within 16 characters",trigger:"change"}],address:[{required:!0,message:"Please enter your address",trigger:"blur"}]},tableData:[],multipleSelection:[],cur_page:1,select_word:"",editVisible:!1,addVisible:!1,deleteVisible:!1,addform:{name:"",address:"",ref_nbr:"",remark:"",status:""},editform:{name:"",address:"",ref_nbr:"",remark:"",status:""},idx:"",hotelName:window.localStorage.getItem("address")||JSON.parse(window.localStorage.getItem("user")).pgshHotelEntityList[0].name}},watch:{select_word:function(e){e||this.getData()}},methods:{getData:function(){var e=this;this.postRequest("/system/hotel/hotelList",{currentPage:1,pageSize:100}).then(function(t){t&&200==t.status&&(console.log(t.data.data.list),e.tableData=t.data.data.list,o["a"].$emit("hotelData",e.tableData))})},handleSearch:function(){var e=this;this.select_word?this.getSearch(this.select_word):e.getData()},getSearch:function(e){var t=this;this.postRequest("/system/hotel/searchHotelByItems",{name:e}).then(function(e){e&&200==e.status?t.tableData=e.data.data:console.log("操作失败")})},changeEnabled:function(e,t){var a=this;console.log(e,"index:",t);var s="";s=e?"F":"A",this.postRequest("/system/hotel/updateHotel",{id:t,status:s}).then(function(e){e&&200==e.status?a.$message({showClose:!0,message:"Update Successful",type:"success"}):(console.log(e),a.$message({showClose:!0,message:"Update Unsuccessful",type:"error",duration:0}))})},handleCurrentChange:function(e){var t=this;this.cur_page=e,this.$nextTick(function(){t.getData()})},handleEdit:function(e,t){this.idx=e;var a=this.tableData[e];console.log(a),this.editform={name:a.name,address:a.address,ref_nbr:a.refNbr,remark:a.remark},this.editVisible=!0},handleAdd:function(e,t){this.addVisible=!0},saveAdd:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.postRequest("/system/hotel/addHotel",{address:t.addform.address,name:t.addform.name,refNbr:t.addform.ref_nbr,remark:t.addform.remark,status:"A"}).then(function(e){e&&200==e.status&&(t.$message.success("Added Successfully"),t.getData(),t.addform={name:"",address:"",ref_nbr:"",remark:"",status:""})}),t.addVisible=!1})},saveEdit:function(){var e=this,t=this.tableData[this.idx].id;this.postRequest("/system/hotel/updateHotel",{id:t,address:this.editform.address,name:this.editform.name,refNbr:this.editform.ref_nbr,remark:this.editform.remark}).then(function(t){e.tableData[e.idx].name==e.hotelName&&(console.log("yes"),o["a"].$emit("hotelname",e.editform.name)),t&&200==t.status?(e.$message.success("Saved Successfully"),e.$nextTick(function(){e.getData()})):console.log(t)}),this.editVisible=!1},deleteAction:function(){var e=this,t=this.tableData[this.idx].id;this.postRequest("/system/hotel/delateHotelById",{id:t}).then(function(t){t&&200==t.status?(e.$message.error("Deleted Successfully"),e.$nextTick(function(){e.getData()})):console.log(t)}),this.deleteVisible=!1},handleDelete:function(e,t){this.idx=e,this.deleteVisible=!0},delAll:function(){var e=this.multipleSelection.length,t=[];this.del_list=this.del_list.concat(this.multipleSelection);for(var a=0;a<e;a++)this.multipleSelection[a].name+" ",t.push(this.multipleSelection[a].id)},handleSelectionChange:function(e){this.multipleSelection=e}},created:function(){this.getData()}},n=r,i=(a("7984"),a("2877")),d=Object(i["a"])(n,s,l,!1,null,null,null);t["default"]=d.exports},d9cd:function(e,t,a){}}]);