(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7b1a6077","chunk-0aeb4781"],{"0262":function(t,e,i){},"162a":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkU2NkExMDlBOTBBMjExRTk4RUZBOTIyOTgxNjY1NDBCIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkU2NkExMDlCOTBBMjExRTk4RUZBOTIyOTgxNjY1NDBCIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RTY2QTEwOTg5MEEyMTFFOThFRkE5MjI5ODE2NjU0MEIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RTY2QTEwOTk5MEEyMTFFOThFRkE5MjI5ODE2NjU0MEIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5SC0V/AAAABlBMVEUAAAAAAAClZ7nPAAAAAnRSTlP/AOW3MEoAAABESURBVHjahI9JDgAwCALh/5/uYhHaS02MYdxByEhO31G2aAKgWOTVGnm3HN3AGpcWcK1Bl0IL+QAmeK7/Ab9fo4cAAwBXxgCllhyJzAAAAABJRU5ErkJggg=="},"2d55":function(t,e,i){"use strict";i.r(e);var a,l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"job_table"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{staticClass:"handle_input",attrs:{span:9}},[a("el-input",{attrs:{placeholder:t.$t("position.searchplaceholder"),clearable:!0},model:{value:t.select_word,callback:function(e){t.select_word=e},expression:"select_word"}})],1),a("el-col",{attrs:{span:2}},[a("button",{staticClass:"search button",on:{click:t.handleSearch}},[t._v(t._s(t.$t("common.search")))])]),a("el-col",{attrs:{span:13}},[a("button",{staticClass:"addbtn",on:{click:t.handleAdd}},[t._v(t._s(t.$t("position.addPosition")))])])],1),a("el-table",{ref:"multipleTable",staticClass:"table_inp loading-area",attrs:{data:t.tableData,border:"",id:"table_style"}},[a("el-table-column",{attrs:{prop:"name",label:t.$t("position.name"),width:"150"}}),a("el-table-column",{attrs:{prop:"startTime",label:t.$t("personnel.startTime"),"min-width":"120"}}),a("el-table-column",{attrs:{prop:"endTime",label:t.$t("personnel.endTime"),"min-width":"150"}}),a("el-table-column",{attrs:{prop:"addTime",label:t.$t("personnel.addTime"),"min-width":"150"}}),a("el-table-column",{attrs:{prop:"dname",label:t.$t("common.Department"),"min-width":"120"}}),a("el-table-column",{attrs:{prop:"createby",label:t.$t("position.createby"),"min-width":"100"}}),a("el-table-column",{attrs:{prop:"createdate",label:t.$t("position.createdate"),"min-width":"150"}}),a("el-table-column",{attrs:{prop:"updateby",label:t.$t("position.updateby"),"min-width":"120"}}),a("el-table-column",{attrs:{prop:"updatedate",label:t.$t("position.updatedate"),"min-width":"150"}}),a("el-table-column",{attrs:{label:t.$t("common.action"),"min-width":"150",align:"center",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Edit",placement:"left"}},[a("img",{staticClass:"right",attrs:{src:i("162a"),alt:""},on:{click:function(i){t.handleEdit(e.$index,e.row)}}})])]}}])})],1),a("el-dialog",{attrs:{title:t.$t("position.editTitle"),visible:t.editVisible,top:"30vh",width:"40%"},on:{"update:visible":function(e){t.editVisible=e}}},[a("el-form",{staticClass:"addform",attrs:{model:t.editform,"label-width":"100px","label-position":"left"}},[a("el-form-item",{attrs:{label:t.$t("position.position")}},[a("el-input",{attrs:{autocomplete:"off",placeholder:t.$t("position.label")},model:{value:t.editform.name,callback:function(e){t.$set(t.editform,"name",e)},expression:"editform.name"}})],1),a("el-form-item",{attrs:{label:t.$t("position.department")}},[a("el-cascader",{attrs:{options:t.departmentList,"show-all-levels":!1,props:t.defaultParams,placeholder:t.$t("position.department")},model:{value:t.editdepartmentValue,callback:function(e){t.editdepartmentValue=e},expression:"editdepartmentValue"}})],1),a("el-form-item",{attrs:{label:t.$t("position.startTime")}},[a("el-time-picker",{attrs:{"picker-options":{selectableRange:"00:00:00 - 23:59:00"},placeholder:t.$t("position.startTime"),"value-format":"HH:mm:ss"},model:{value:t.editform.startTime,callback:function(e){t.$set(t.editform,"startTime",e)},expression:"editform.startTime"}})],1),a("el-form-item",{attrs:{label:t.$t("position.endTime")}},[a("el-time-picker",{attrs:{"picker-options":{selectableRange:"00:00:00 - 23:59:00"},placeholder:t.$t("editStaff.endTime"),"value-format":"HH:mm:ss"},model:{value:t.editform.endTime,callback:function(e){t.$set(t.editform,"endTime",e)},expression:"editform.endTime"}})],1),a("el-form-item",{attrs:{label:t.$t("position.Overtime")}},[a("el-time-picker",{attrs:{"picker-options":{selectableRange:"00:00:00 - 23:59:00"},placeholder:t.$t("common.Overtime"),"value-format":"HH:mm:ss"},model:{value:t.editform.addTime,callback:function(e){t.$set(t.editform,"addTime",e)},expression:"editform.addTime"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.editVisible=!1}}},[t._v(t._s(t.$t("common.cancel")))]),a("el-button",{staticClass:"button",attrs:{type:"primary"},on:{click:t.EditSave}},[t._v(t._s(t.$t("common.confirm")))])],1)],1),a("el-dialog",{attrs:{title:t.$t("position.addTitle"),visible:t.addVisible,top:"20vh",width:"40%"},on:{"update:visible":function(e){t.addVisible=e}}},[a("el-form",{staticClass:"addform",attrs:{"label-width":"100px","label-position":"left"}},[a("el-form-item",{attrs:{label:t.$t("position.position")}},[a("el-input",{attrs:{autocomplete:"off",placeholder:t.$t("position.label")},model:{value:t.AddJobName,callback:function(e){t.AddJobName=e},expression:"AddJobName"}})],1),a("el-form-item",{attrs:{label:t.$t("position.department")}},[a("el-cascader",{attrs:{options:t.departmentList,"show-all-levels":!1,props:t.defaultParams,placeholder:t.$t("common.department")},model:{value:t.adddepartmentValue,callback:function(e){t.adddepartmentValue=e},expression:"adddepartmentValue"}})],1),a("el-form-item",{attrs:{label:t.$t("position.startTime")}},[a("el-time-picker",{attrs:{"picker-options":{selectableRange:"00:00:00 - 23:59:00"},placeholder:t.$t("editStaff.startTime"),"value-format":"HH:mm:ss"},model:{value:t.startTimeValue,callback:function(e){t.startTimeValue=e},expression:"startTimeValue"}})],1),a("el-form-item",{attrs:{label:t.$t("position.endTime")}},[a("el-time-picker",{attrs:{"picker-options":{selectableRange:"00:00:00 - 23:59:00"},placeholder:t.$t("editStaff.endTime"),"value-format":"HH:mm:ss"},model:{value:t.endTimeValue,callback:function(e){t.endTimeValue=e},expression:"endTimeValue"}})],1),a("el-form-item",{attrs:{label:t.$t("position.Overtime")}},[a("el-time-picker",{attrs:{"picker-options":{selectableRange:"00:00:00 - 23:59:00"},placeholder:t.$t("common.Overtime"),"value-format":"HH:mm:ss"},model:{value:t.addTimeValue,callback:function(e){t.addTimeValue=e},expression:"addTimeValue"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.addVisible=!1}}},[t._v(t._s(t.$t("common.cancel")))]),a("el-button",{staticClass:"button",attrs:{type:"primary"},on:{click:t.addSave}},[t._v(t._s(t.$t("common.confirm")))])],1)],1)],1)},s=[],n=i("bd86"),o=(i("7f7f"),{data:function(){return{tableData:[],editVisible:!1,editform:{name:"",startTime:"",endTime:"",addTime:""},addform:{name:"",startTime:"",endTime:"",addTime:""},defaultParams:{label:"name",value:"id",children:"children",expandTrigger:"hover"},AddJobName:"",startTimeValue:window.localStorage.getItem("startTime")||JSON.parse(window.localStorage.getItem("user")).pgshHotelEntityList[0].startTime,endTimeValue:window.localStorage.getItem("endTime")||JSON.parse(window.localStorage.getItem("user")).pgshHotelEntityList[0].endTime,addTimeValue:window.localStorage.getItem("addTime")||JSON.parse(window.localStorage.getItem("user")).pgshHotelEntityList[0].addTime,editdepartmentValue:[],addVisible:!1,idx:"",select_word:"",departmentList:[],adddepartmentValue:[],eid:JSON.parse(window.localStorage.getItem("user")).pgshHotelEntityList[0].id}},created:function(){this.getJobData(),this.getDepartment()},methods:(a={changeDetSelect:function(t,e){console.log(t,e);var i=[],a=[],l=0;function s(e,n){for(var o=0;o<e.length;o++){if(l=n,i[n]=e[o].id,e[o].id==t){a=i.slice(0,n+1);break}e[o].children&&(l++,s(e[o].children,l))}return a}return s(e,l)},handleEdit:function(t,e){this.idx=t,this.editform.name=this.tableData[t].name,this.editVisible=!0}},Object(n["a"])(a,"handleEdit",function(t,e){this.idx=t,this.editform.name=this.tableData[t].name,this.editform.startTime=this.tableData[t].startTime,this.editform.endTime=this.tableData[t].endTime,this.editform.addTime=this.tableData[t].addTime,this.editdepartmentValue=this.changeDetSelect(this.tableData[t].did,this.departmentList),this.editVisible=!0}),Object(n["a"])(a,"getJobData",function(){var t=this;this.postRequest("/system/basic/getPositionListByEid",{entityId:window.localStorage.getItem("eid")||this.eid,name:this.select_word}).then(function(e){e&&200==e.status&&(console.log(e.data.obj),t.tableData=e.data.obj)})}),Object(n["a"])(a,"getDepartment",function(){var t=this;this.postRequest("/system/basic/depTrees",{entityId:window.localStorage.getItem("eid")||this.eid}).then(function(e){e&&200==e.status&&(console.log(e.data),t.departmentList=t.getTreeData(e.data.obj))})}),Object(n["a"])(a,"getTreeData",function(t){for(var e=0;e<t.length;e++)t[e].children.length<1?t[e].children=void 0:this.getTreeData(t[e].children);return t}),Object(n["a"])(a,"handleSearch",function(){this.getJobData()}),Object(n["a"])(a,"EditSave",function(){var t=this,e=this.tableData[this.idx].id,i=this.editdepartmentValue.length-1;this.postRequest("/system/basic/updatePosition",{entityId:window.localStorage.getItem("eid")||this.eid,id:e,name:this.editform.name,did:this.editdepartmentValue[i],startTime:this.editform.startTime,endTime:this.editform.endTime,addTime:this.editform.addTime}).then(function(e){e&&200==e.status&&(t.getJobData(),t.editVisible=!1)})}),Object(n["a"])(a,"handleAdd",function(){this.addVisible=!0}),Object(n["a"])(a,"addSave",function(){var t=this,e=this.adddepartmentValue.length-1;this.postRequest("/system/basic/addPosition",{entityId:window.localStorage.getItem("eid")||this.eid,name:this.AddJobName,did:this.adddepartmentValue[e],startTime:this.startTimeValue,endTime:this.endTimeValue,addTime:this.addTimeValue}).then(function(e){e&&200==e.status&&(t.getJobData(),t.addVisible=!1)})}),a)}),d=o,r=(i("a056"),i("2877")),m=Object(r["a"])(d,l,s,!1,null,null,null);e["default"]=m.exports},"705e":function(t,e,i){"use strict";var a=i("877e"),l=i.n(a);l.a},"786a":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"timesetting"}},[i("div",{staticClass:"management"},[i("div",{staticClass:"mainTime"},[i("p",[t._v(t._s(t.$t("timesetting.set")))]),i("div",{staticClass:"selectDate"},[i("b",[t._v(t._s(t.$t("common.from"))+":")]),i("el-time-picker",{attrs:{"picker-options":{selectableRange:"00:00:00 - 23:59:00"},placeholder:t.$t("timesetting.set"),"value-format":"HH:mm:ss"},model:{value:t.startTime,callback:function(e){t.startTime=e},expression:"startTime"}})],1),i("div",{staticClass:"selectDate"},[i("b",[t._v(t._s(t.$t("common.to"))+":")]),i("el-time-picker",{attrs:{"picker-options":{selectableRange:"00:00:00 - 23:59:00"},placeholder:t.$t("timesetting.set"),"value-format":"HH:mm:ss"},model:{value:t.endTime,callback:function(e){t.endTime=e},expression:"endTime"}})],1)]),i("div",{staticClass:"mainTime"},[i("p",[t._v("Set Overtime")]),i("div",{staticClass:"selectDate"},[i("b",[t._v("From:")]),i("el-time-picker",{attrs:{"picker-options":{selectableRange:"00:00:00 - 23:59:00"},placeholder:t.$t("timesetting.set"),"value-format":"HH:mm:ss"},model:{value:t.addTime,callback:function(e){t.addTime=e},expression:"addTime"}})],1)]),i("div",{staticClass:"confirm"},[i("button",{staticClass:"button confirmbtn",on:{click:t.saveTime}},[t._v(t._s(t.$t("common.confirm")))])])])])},l=[],s={data:function(){return{startTime:"",endTime:"",addTime:"",eid:window.localStorage.getItem("eid")||JSON.parse(window.localStorage.getItem("user")).pgshHotelEntityList[0].id}},created:function(){this.getTime()},methods:{getTime:function(){var t=this;this.postRequest("/system/hotel/getThisOfficeWorkTime",{id:window.localStorage.getItem("eid")||this.eid}).then(function(e){e&&200==e.status&&(t.startTime=e.data.obj.startTime,t.endTime=e.data.obj.endTime,t.addTime=e.data.obj.addTime)})},saveTime:function(){var t=this;this.postRequest("/system/hotel/updateHotel",{id:window.localStorage.getItem("eid")||this.eid,startTime:this.startTime,endTime:this.endTime,addTime:this.addTime}).then(function(e){e&&200==e.status&&(window.localStorage.setItem("startTime",t.startTime),window.localStorage.setItem("endTime",t.endTime),window.localStorage.setItem("addTime",t.addTime),t.$message.success("Saved Successfully"))})}}},n=s,o=(i("705e"),i("2877")),d=Object(o["a"])(n,a,l,!1,null,null,null);e["default"]=d.exports},"85b1":function(t,e,i){var a={"./DepartmentManagement.vue":"fe8e7","./PositionManagement.vue":"2d55","./TimeManagement.vue":"786a"};function l(t){var e=s(t);return i(e)}function s(t){var e=a[t];if(!(e+1)){var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}return e}l.keys=function(){return Object.keys(a)},l.resolve=s,t.exports=l,l.id="85b1"},"877e":function(t,e,i){},a056:function(t,e,i){"use strict";var a=i("cbd2"),l=i.n(a);l.a},cbd2:function(t,e,i){},f6ce:function(t,e,i){"use strict";var a=i("0262"),l=i.n(a);l.a},fe8e7:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"divisional"}},[i("div",{staticClass:"custom-tree-container"},[i("el-input",{staticClass:"filter",attrs:{placeholder:t.$t("department.departmentPlaceholder")},model:{value:t.filterText,callback:function(e){t.filterText=e},expression:"filterText"}}),i("div",{staticClass:"tree"},[i("el-tree",{ref:"tree",attrs:{data:t.divisionalList,"node-key":"id","default-expand-all":"","expand-on-click-node":!1,"filter-node-method":t.filterNode,props:t.defaultProps},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.node,l=e.data;return i("span",{staticClass:"custom-tree-node"},[i("span",[t._v(t._s(a.data.name))]),i("span",[i("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return t.handleAppend(a,l)}}},[t._v("\n                    "+t._s(t.$t("department.Append"))+"\n                ")]),i("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return t.handleEdit(a,l)}}},[t._v("\n                    "+t._s(t.$t("department.Edit"))+"\n                ")])],1)])}}])})],1),i("el-dialog",{attrs:{title:t.$t("department.addTitle"),visible:t.addVisible,top:"30vh",width:"40%"},on:{"update:visible":function(e){t.addVisible=e}}},[i("el-form",[i("el-form-item",{attrs:{label:t.$t("department.label"),"label-width":"150"}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:t.AddDivisionalName,callback:function(e){t.AddDivisionalName=e},expression:"AddDivisionalName"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.addVisible=!1}}},[t._v(t._s(t.$t("department.cancel")))]),i("el-button",{attrs:{type:"primary"},on:{click:t.Append}},[t._v(t._s(t.$t("department.confirm")))])],1)],1),i("el-dialog",{attrs:{title:t.$t("department.editTitle"),visible:t.editVisible,top:"30vh",width:"40%"},on:{"update:visible":function(e){t.editVisible=e}}},[i("el-form",{attrs:{model:t.editform}},[i("el-form-item",{attrs:{label:t.$t("department.label"),"label-width":"150"}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:t.editform.name,callback:function(e){t.$set(t.editform,"name",e)},expression:"editform.name"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.editVisible=!1}}},[t._v(t._s(t.$t("department.cancel")))]),i("el-button",{attrs:{type:"primary"},on:{click:t.Edit}},[t._v(t._s(t.$t("department.confirm")))])],1)],1)],1)])},l=[],s=(i("7f7f"),{data:function(){return{filterText:"",defaultProps:{children:"children",name:"name"},divisionalList:[],addVisible:!1,editVisible:!1,AddDivisionalName:"",EditDivisionalName:"",node:"",data:"",editform:{name:""},eid:JSON.parse(window.localStorage.getItem("user")).pgshHotelEntityList[0].id}},created:function(){this.getDivisionalData()},methods:{getDivisionalData:function(){var t=this;this.postRequest("/system/basic/depTrees",{entityId:window.localStorage.getItem("eid")||this.eid,officeId:1}).then(function(e){e&&200==e.status&&(t.divisionalList=e.data.obj,console.log(t.divisionalList))})},handleAppend:function(t,e){this.node=t,this.data=e,this.addVisible=!0},Append:function(){var t=this,e=this.node.data.id;this.postRequest("/system/basic/addDepartment",{entityId:window.localStorage.getItem("eid")||this.eid,id:e,name:this.AddDivisionalName}).then(function(e){e&&200==e.status&&(t.getDivisionalData(),t.addVisible=!1)})},handleEdit:function(t,e){this.node=t,this.data=e,this.editform.name=e.name,this.editVisible=!0},Edit:function(t,e){var i=this,a=this.node.data.id;this.postRequest("/system/basic/updateDepartment",{entityId:window.localStorage.getItem("eid")||this.eid,id:a,name:this.editform.name}).then(function(t){t&&200==t.status&&(i.getDivisionalData(),i.editVisible=!1)})},filterNode:function(t,e){return!t||-1!==e.name.indexOf(t)}},watch:{filterText:function(t){this.$refs.tree.filter(t)}}}),n=s,o=(i("f6ce"),i("2877")),d=Object(o["a"])(n,a,l,!1,null,null,null);e["default"]=d.exports}}]);